# =============================================================================
# CONFIGURAÇÕES DE PRODUÇÃO
# =============================================================================
# Para usar este perfil: java -jar app.jar --spring.profiles.active=prod

# =============================================================================
# CONFIGURAÇÕES DE BANCO DE DADOS - PRODUÇÃO
# =============================================================================

# URL do banco de produção (substitua pelos dados reais)
# spring.datasource.url=jdbc:mysql://localhost:3306/jcpm_prod?useSSL=true&serverTimezone=America/Sao_Paulo&characterEncoding=utf8&useUnicode=true
# spring.datasource.username=${DB_USERNAME}
# spring.datasource.password=${DB_PASSWORD}

# =============================================================================
# CONFIGURAÇÕES DO HIBERNATE - PRODUÇÃO
# =============================================================================

# Não alterar schema em produção (apenas validar)
spring.jpa.hibernate.ddl-auto=validate

# Desabilitar SQL logging em produção
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false

# =============================================================================
# CONFIGURAÇÕES DE LOGGING - PRODUÇÃO
# =============================================================================

# Logging mais restrito em produção
logging.level.root=WARN
logging.level.org.hibernate.SQL=WARN
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=WARN
logging.level.com.zaxxer.hikari=WARN
logging.level.org.springframework.security=ERROR

# Configurar arquivo de log
logging.file.name=logs/backend.log
logging.file.max-size=100MB
logging.file.max-history=30

# Padrão do log
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# =============================================================================
# CONFIGURAÇÕES JWT - PRODUÇÃO
# =============================================================================

# Use variáveis de ambiente para valores sensíveis
# jwt.secret=${JWT_SECRET}
# jwt.expiration=${JWT_EXPIRATION:86400000}

# =============================================================================
# CONFIGURAÇÕES DE SEGURANÇA - PRODUÇÃO
# =============================================================================

# Desabilitar referências circulares (corrigir antes de ir para produção)
spring.main.allow-circular-references=false

# Desabilitar devtools em produção
spring.devtools.restart.enabled=false
spring.devtools.livereload.enabled=false

# =============================================================================
# CONFIGURAÇÕES DO SERVIDOR - PRODUÇÃO
# =============================================================================

# Configurações otimizadas para produção
server.tomcat.max-threads=300
server.tomcat.min-spare-threads=50
server.tomcat.accept-count=100

# Configurações de compressão mais agressiva
server.compression.enabled=true
server.compression.min-response-size=512

# =============================================================================
# CONFIGURAÇÕES DO POOL DE CONEXÕES - PRODUÇÃO
# =============================================================================

# Pool maior para produção
spring.datasource.hikari.maximum-pool-size=50
spring.datasource.hikari.minimum-idle=10
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.max-lifetime=1800000
spring.datasource.hikari.connection-timeout=30000
